(this["webpackJsonpfavytstore.github.io"]=this["webpackJsonpfavytstore.github.io"]||[]).push([[0],{36:function(e,t,n){},37:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var s=n(0),c=n.n(s),a=n(28),o=n.n(a),r=(n(36),n.p,n(37),n(9)),j=n(2),i=n(7),b=n(15),u=n(29),l=n.n(u),O=function(){return sessionStorage.getItem("token")||null},d=n(1);var h=function(e){var t=Object(s.useState)(e),n=Object(b.a)(t,2),c=n[0],a=n[1];return{value:c,onChange:function(e){a(e.target.value)}}},x=function(e){var t=Object(s.useState)(!1),n=Object(b.a)(t,2),c=n[0],a=n[1],o=h(""),r=h(""),j=Object(s.useState)(null),u=Object(b.a)(j,2),O=u[0],x=u[1];return Object(d.jsxs)("div",{children:["Login",Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsxs)("div",{children:["username",Object(d.jsx)("br",{}),Object(d.jsx)("input",Object(i.a)(Object(i.a)({type:"text"},o),{},{autoComplete:"new-password"}))]}),Object(d.jsxs)("div",{style:{margin:10},children:["password",Object(d.jsx)("br",{}),Object(d.jsx)("input",Object(i.a)(Object(i.a)({type:"password"},r),{},{autoComplete:"new-password"}))]}),O&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("small",{style:{color:"red"},children:O}),Object(d.jsx)("br",{})]}),Object(d.jsx)("br",{}),Object(d.jsx)("input",{type:"button",value:c?"Loading...":"Login",onClick:function(){x(null),a(!0),l.a.post("http://localhost:4000/users/signin",{username:o.value,password:r.value}).then((function(t){var n,s;a(!1),n=t.data.token,s=t.data.user,sessionStorage.setItem("token",n),sessionStorage.setItem("user",JSON.stringify(s)),e.history.push("/dashboard")})).catch((function(e){a(!1),401===e.response.status?x(e.response.data.message):x("Something went wrong. Please try again later.")}))},disabled:c}),Object(d.jsx)("br",{})]})};var p=function(e){var t=function(){var e=sessionStorage.getItem("user");return e?JSON.parse(e):null}();return Object(d.jsxs)("div",{children:["Welcome ",t.name,"!!",Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("input",{type:"button",onClick:function(){sessionStorage.removeItem("user"),sessionStorage.removeItem("token"),e.history.push("/login")},value:"Logout"})]})};var v=function(){return Object(d.jsx)("div",{children:Object(d.jsx)("p",{children:"Welcome to Favyt : Your Favorite Collection!!!"})})},m=n(14),g=["component"];var f=function(e){var t=e.component,n=Object(m.a)(e,g);return Object(d.jsx)(j.b,Object(i.a)(Object(i.a)({},n),{},{render:function(e){return O()?Object(d.jsx)(t,Object(i.a)({},e)):Object(d.jsx)(j.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},y=["component"];var S=function(e){var t=e.component,n=Object(m.a)(e,y);return Object(d.jsx)(j.b,Object(i.a)(Object(i.a)({},n),{},{render:function(e){return O()?Object(d.jsx)(j.a,{to:{pathname:"/dashboard"}}):Object(d.jsx)(t,Object(i.a)({},e))}}))};var w=function(){return Object(d.jsx)("div",{className:"App",children:Object(d.jsx)(r.a,{children:Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"header",children:[Object(d.jsx)(r.b,{exact:!0,activeClassName:"active",to:"/",children:"Home"}),Object(d.jsx)(r.b,{exact:!0,activeClassName:"active",to:"/login",children:"Login"})," ",Object(d.jsx)("small",{children:"(Access without token only)"}),Object(d.jsx)(r.b,{exact:!0,activeClassName:"active",to:"/dashboard",children:"Dashboard"}),Object(d.jsx)("small",{children:"(Access with token only)"})]}),Object(d.jsx)("div",{className:"contect",children:Object(d.jsxs)(j.d,{children:[Object(d.jsx)(j.b,{exact:!0,path:"/",component:v}),Object(d.jsx)(S,{path:"/login",component:x}),Object(d.jsx)(f,{path:"/dashboard",component:p})]})})]})})})},C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,63)).then((function(t){var n=t.getCLS,s=t.getFID,c=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),s(e),c(e),a(e),o(e)}))};o.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(w,{})}),document.getElementById("root")),C()}},[[62,1,2]]]);
//# sourceMappingURL=main.d60bd139.chunk.js.map